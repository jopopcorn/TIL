## 스트림 (Stream)

- 데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 요소
- 멀티스레드 코드를 구현하지 않아도 **데이터를 투명하게 병렬로 처리**한다.
- 컬렉션과 달리 내부 반복을 지원한다.
- 스트림 연산끼리 연결해서 커다란 파이프라인을 구성할 수 있도록 스트림 자신을 반환한다. 복잡한 파이프라인은 여전히 **가독성과 명확성이 유지**된다.

### 스트림과 컬렉션 비교

데이터를 언제 계산하느냐가 컬렉션과 스트림의 가장 큰 차이점

행위 | 스트림 | 컬렉션 | 
---- | ---- | ---- |
데이터 계산 | 사용자가 요청하는 값만 스트림에서 추출 | 모든 요소는 컬렉션에 추가하기 전에 계산되어야 함
탐색법 | 딱 한 번만 탐색 가능함. 탐색된 스트림의 요소는 소비되므로, 탐색한 요소를 다시 탐색하려면 초기 데이터 소스에서 새로운 스트림 만들어야 함 | 여러 번 탐색 가능
데이터 반복 처리 방법 | 내부 반복 (지정하면 모든 것이 알아서 처리) | 외부 반복 (사용자가 for-each와 같은 문법을 사용해서 직접 요소를 반복)
최적화 | 작업을 투명하게 병렬로 처리하거나 더 최적화된 다양한 순서로 처리 | 병렬성을 스스로 관리해야 하므로 최적화 어려움

### 스트림 연산

**중간 연산**

- 스트림을 반환하면서 다른 연산과 연결되는 연산
- 중간 연산을 이용해서 파이프라인 구성할 수 있음
- 단말 연산을 스트림 파이프라인에 실행하기 전까지는 아무 연산도 수행하지 않음 **(게으름)**
- 중간 연산으로는 어떤 결과도 생성할 수 없음

**최종 연산**

- 스트림 파이프라인을 처리해서 스트림이 아닌 결과를 반환하는 연산
- 스트림 파이프라인을 실행해 결과를 만듦
